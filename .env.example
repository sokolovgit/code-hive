# Environment Configuration for Local Development Infrastructure
# Copy this file to .env and customize as needed
# Note: .env is gitignored and should not be committed

# ============================================================================
# Network Configuration
# ============================================================================
COMPOSE_PROJECT_NAME=code-hive
DOCKER_NETWORK=backend-net

# ============================================================================
# PostgreSQL Configuration
# ============================================================================
# Single PostgreSQL instance with multiple logical databases
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=admin
POSTGRES_PASSWORD=password
POSTGRES_DB=postgres

# Service-specific database URLs
# Currently only users-service is active
DATABASE_URL_USERS=postgresql://admin:password@postgres:5432/users
# DATABASE_URL_AUTH=postgresql://admin:password@postgres:5432/auth_db
# DATABASE_URL_PAYMENT=postgresql://admin:password@postgres:5432/payment_db
# DATABASE_URL_GATEWAY=postgresql://admin:password@postgres:5432/gateway_db

# ============================================================================
# MongoDB Configuration
# ============================================================================
# Single MongoDB instance with multiple logical databases
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_USER=admin
MONGODB_PASSWORD=password
MONGODB_DB=admin

# MongoDB connection strings (database name in path)
# Uncomment and configure as needed when services are added
# MONGODB_URL_USERS=mongodb://admin:password@mongodb:27017/users_db?authSource=admin
# MONGODB_URL_AUTH=mongodb://admin:password@mongodb:27017/auth_db?authSource=admin
# MONGODB_URL_PAYMENT=mongodb://admin:password@mongodb:27017/payment_db?authSource=admin

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# ============================================================================
# Observability Stack Configuration
# ============================================================================
# OpenTelemetry endpoint for traces and metrics
# Uses OTLP_URL (falls back to OTEL_EXPORTER_OTLP_ENDPOINT for backward compatibility)
OTLP_URL=http://tempo:4318

# Observability service ports (exposed to host)
GRAFANA_PORT=4000
LOKI_PORT=3100
PROMETHEUS_PORT=9090
TEMPO_PORT=3200

# ============================================================================
# Service Ports (exposed to host for debugging)
# ============================================================================
# Application services start from 3000 and increment sequentially
USERS_SERVICE_PORT=3000
# AUTH_SERVICE_PORT=3001
# PAYMENT_SERVICE_PORT=3002
# GATEWAY_SERVICE_PORT=3003

# ============================================================================
# Service Configuration
# ============================================================================
NODE_ENV=development

# ============================================================================
# Service-Specific Environment Variables
# ============================================================================
# These are set per-service in docker-compose.yml, but can be overridden here
# SERVICE_NAME is set per service container
# PORT defaults to 3000 (can be overridden per service)
# HOST defaults to 0.0.0.0 (can be overridden per service)
